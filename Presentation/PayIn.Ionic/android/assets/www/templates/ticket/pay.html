<ion-view view-title="Pay[in] PIN" xp-panel>
  <ion-content ng-controller="LoadingCtrl">
    <xp-post
      api="mobile/ticket/v3/pay" 
      xp-init="scope.arguments.id=params.id;scope.arguments.paymentMediaId=params.paymentMediaId;"
      xp-success="navigation.goBack(-3);"
      ng-controller='ticketPayController'
    >      
      <form name="form" role="form" id="form" ng-submit="accept2()">
        <div class="list">
          <label form="form" class="item item-input item-stacked-label" ng-class="{'has-error':form.pin.$invalid}">
            <span class="input-label">Pay[in] PIN</span>
            <input type="password" name="pin" ng-model="arguments.pin" required ng-pattern="/^\d{4}$/" autofocus>
          </label>
          <ng-messages for="form.pin.$error" role="alert">
            <ng-message when="required">Este campo es requerido.</ng-message>
            <ng-message when="pattern">Este campo debe ser de 4 dígitos.</ng-message>
          </ng-messages>       
        </div>
        <div class="button-bar padding">
          <button type="submit" class="button button-payin" ng-disabled="!form.$valid">Pagar</button>
        </div>
        <div class="padding bottom">
          <p class="center"> Usted va a realizar el pago a Payment Innovation Network S.L. (B-98638927), ubicada en Marina Real Juan Carlos I, Muelle de la aduana s/n Edificio Lanzadera, 46024, Valencia, quién posteriormente realizará la gestión de la transacción con la empresa emisora.</p>
          <p class="center"> Para más información o cualquier reclamación info@pay-in.es</p>
        </div>         
      </form>    
    </xp-post>
  </ion-content>
</ion-view>