<ion-view cache-view="false" view-title="Registra tu tarjeta" xp-panel>
    <xp-post
             api="mobile/paymentmedia/v1/WebCard"
             ng-controller="paymentMediaCreateController"
             xp-back='0'
             >        
        <ion-content class="background transportContent"  style="color: white;">
            <div style="margin-top: 20%;">
                <ion-slide-box id="slide" delegate-handle="facil">
                    <ion-slide>
                        <div class="row">
                            <div class="col col-5"></div>
                            <div class="col col-90">
                                <div class="row">
                                    <div class="col col-5"></div>
                                    <div class="col col-90 center">
                                        <div class="ion-card" style="font-size: 10em;"></div>
                                    </div>
                                    <div class="col col-5"></div>
                                </div>
                            </div>
                            <div class="col col-5">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col col-100">                    
                                <div class="row">
                                    <div class="col col-100">
                                        <div class="row">
                                            <div class="col col-5"></div>    
                                            <div class="col col-90" style="color: white; font-size: 1.1em; margin-top: 5%;">
                                                INTRODUCE TU PIN DE 4 DÍGITOS
                                            </div>    
                                            <div class="col col-5"></div>    
                                        </div>  
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col col-100 ">
                                        <div class="row">
                                            <div class="col col-100 ">
                                                <label form="form center">
                                                    <input type="password" style="width: 100%; background-color: rgba(255,255,255,0);text-align: center; border-color: none; border-bottom: 1px solid white;" 
                                                           ng-model="arguments.pin" required ng-pattern="/^\d{4}$/">
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>                 
                            </div>
                        </div>
                        <div class="row">
                            <div class="col col-100 center">
                                <div class="col col-10"></div>
                                <div class="col col-80" style="color: white; text-align: center;">
                                    Tus datos quedarán protegidos.<br> La información de tu tarjeta <br> se guarda cifrada.
                                </div>
                                <div class="col col-10"></div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col col-100">
                                <div class="row">
                                    <div class="col col-5"></div>
                                    <div class="col col-90">
                                        <button style="border-radius: 38px 38px 38px 38px; width: 50%; background-color: rgba(255,255,255,0); border: 1px solid white; color: white; font-size: 1.1em; width: 100%; height: 3em;" ng-click="next()">
                                            Continuar
                                        </button>
                                    </div>
                                    <div class="col col-5"></div>
                                </div>
                            </div>
                        </div> 
                    </ion-slide>
                    <ion-slide>
                        <div class="row">
                            <div class="col col-5"></div>
                            <div class="col col-90">
                                <div class="row">
                                    <div class="col col-5"></div>
                                    <div class="col col-90 center">
                                        <div class="ion-card" style="font-size: 10em;"></div>
                                    </div>
                                    <div class="col col-5"></div>
                                </div>
                            </div>
                            <div class="col col-5">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col col-100">                    
                                <div class="row">
                                    <div class="col col-100">
                                        <div class="row">
                                            <div class="col col-5"></div>    
                                            <div class="col col-90 center" style="color: white; font-size: 1.1em; margin-top: 5%; text-align: center;">
                                                INTRODUCE EL NOMBRE PARA <br> RECONOCER TU TARJETA
                                            </div>    
                                            <div class="col col-5"></div>    
                                        </div>  
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col col-100 ">
                                        <label form="form center">
                                            <input type="text" style="width: 100%; background-color: rgba(255,255,255,0);text-align: center; border-color: none; border-bottom: 1px solid white;" 
                                            ng-model="arguments.nameCard" required>
                                        </label>
                                    </div>
                                </div>                 
                            </div>
                        </div>
                        <div class="row">
                            <div class="col col-100">
                                <div class="row"  style="margin-top: 10%;">
                                    <div class="col col-5"></div>
                                    <div class="col col-90">
                                        <button style="border-radius: 38px 38px 38px 38px; width: 50%; background-color: rgba(255,255,255,0); border: 1px solid white; color: white; font-size: 1.1em; width: 100%; height: 3em;" ng-click="next(arguments.nameCard)">
                                            Continuar
                                        </button>
                                    </div>
                                    <div class="col col-5"></div>
                                </div>
                            </div>
                        </div>     
                    </ion-slide >
                </ion-slide-box>
                <iframe frameborder="0" width="100%" style="height: 80vh; display: none" name="bankFrame" id="bankFrame" onload="iframeLoaded()"></iframe>
                <!-- DEBUG -->
                <form style="display:none" name="formPost" id="formPost" target="bankFrame" action="https://sis-t.redsys.es:25443/sis/realizarPago" method="post"></form>
                <!-- REAL -->
                <!--<form style="display:none" name="formPost" id="formPost" target="bankFrame" action="https://sis.redsys.es/sis/realizarPago" method="post"></form>-->
            </div>       
        </ion-content>
    </xp-post>
</ion-view>