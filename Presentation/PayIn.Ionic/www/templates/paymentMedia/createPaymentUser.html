<ion-view view-title="Pay[in]" xp-panel xp-loading>
  <ion-content>
   <xp-post api="mobile/user/v1" xp-init="scope.arguments.taxName=scope.authentication.name">
      <form name="form" role="form" ng-submit="accept2()" ng-controller="hasPaymentCtrl">
        <div class="padding">
          <p>Por su seguridad, Pay[in] necesita <b>verificar su nombre completo y crear un PIN</b> de 4 números.</p>
          <p>Este PIN debe ser fácil de recordar y no tiene por qu&eacute; ser el mismo que el de su tarjeta.</p>
        </div>
        <label form="form" class="item item-input item-stacked-label" ng-class="{'has-error':form.taxName.$invalid}">
          <span class="input-label">Nombre completo</span>
          <input type="text" name="taxName" ng-model="arguments.taxName" required>
        </label>
        <ng-messages for="form.taxName.$error" role="alert">
          <ng-message when="required">Este campo es requerido.</ng-message>
        </ng-messages>
        <label form="form" class="item item-input item-stacked-label" ng-class="{'has-error':form.pin.$invalid}">
          <span class="input-label">Pay[in] PIN</span>
          <input type="password" name="pin" placeholder="Pay[in] PIN (4 dígitos)" ng-model="arguments.pin" required ng-pattern="/^\d{4}$/" autofocus>
        </label>
        <ng-messages for="form.pin.$error" role="alert">
          <ng-message when="required">Este campo es requerido.</ng-message>
          <ng-message when="pattern">Este campo debe ser de 4 dígitos.</ng-message>
        </ng-messages>
        <label form="form" class="item item-input item-stacked-label" ng-class="{'has-error':form.confirmPin.$invalid}">
          <span class="input-label">Confirmar Pay[in] PIN</span>
          <input type="password" name="confirmPin" placeholder="Pay[in] PIN (4 dígitos)" ng-model="arguments.confirmPin" required ng-pattern="/^\d{4}$/">
        </label>
        <ng-messages for="form.confirmPin.$error" role="alert">
          <ng-message when="required">Este campo es requerido.</ng-message>
          <ng-message when="pattern">Este campo debe ser de 4 dígitos.</ng-message>
        </ng-messages>
        <div class="button-bar padding">
          <button type="submit" class="button button-payin" ng-disabled="form.$invalid">Siguiente</button>
        </div>
     </form>
   </xp-post>
  </ion-content>
</ion-view>